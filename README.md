# MOVIE FOCUSING YOU

created by 김지희 @jhee514 , 문다혜 @dahea-moon

**Back-end**: Django, **Front-end**: Vue.js, **Deploy**: Heroku, Firebase 

## 프로젝트 목표

- LINK: https://moviefocusingyou.firebaseapp.com/

- 평점을 중심으로 운영되는 기존 영화 추천 서비스와 달리, 사용자가 선호하는 영화의 장르와 관련 키워드를 기준으로 영화를 추천해주는 영화 추천 서비스를 제공한다.

  

## 구현 기능

-   회원가입
-   로그인 / 로그아웃
-   전체 영화 리스트 보기
-   사용자 취향 (장르 및 키워드) 기반 영화 추천
-   사용자 상세 정보 보기 (선호하는 장르, 선호하는 키워드, Watched List, Wish List)
-   영화 상세 정보 보기 (제목, 감독, 배우, 스틸컷, 줄거리, 키워드 등)
-   영화 평점 등록: 좋아요 (긍정, 부정 평가), 관련 키워드 2개 선택, 코멘트 작성
-   ``보고 싶은 영화`` 등록 및 삭제 기능
-   ``보고 싶은 영화`` 에 등록된 영화의 평점을 작성하면 해당 영화는 ``보고 싶은 영화`` 에서 제거 되는 기능
-   영화 평점 등록시 해당 영화가 사용자의 ``봤던 영화 목록`` 에 자동 등록되는 기능
-   평점 삭제 시 해당  ``봤던 영화 목록`` 에서 자동 제거되는 기능



## 추천 알고리즘

### 개요

•회원가입 시 선호 장르 1, 2순위 수집

•초기 추천: 장르 기반 추천

•영화 평가 시, 긍정 평가한 영화의 평가 내용 저장 → 영화 평가 시 선택한 키워드 2가지 저장 → 같은 키워드를 가진 영화 추천

•각 영화의 키워드는 사용자들이 평가함에 따라 가장 많이 선택된 키워드 2가지로 바뀜

### 세부 로직

1. 각각의 영화에 대하여 평가는 가입된 사용자만 등록 할 수 있다.

2. 회원 가입시 사용자는 본인이 선호하는 장르 1순위, 2순위를 등록한다.

3. 회원 정보에 저장될 선호 키워드는 해당 사용자가 작성하는 평가를 통해 산정될 것이기 때문에 평가를 남기지 않은 회원은 선호 키워드 값을 가질 수 없다.

4. 영화 평가 항목은 다음과 같다.

   1.  ``like``

       -   사용자는 점수로 기록하는 평점 대신 ``좋아요`` / ``싫어요`` 두가지로 평가하게 된다.
       -   기존의 5 ~ 10점으로 점수를 매기는 방식의 경우, 객관성이 떨어질 수 있다는 단점이 있기 때문에 이를 보완하기 위하여 평점은 ''좋아요'' 또는 ''싫어요'' 두가지로만 한정하였다.

       -   값은 ``True`` 또는 ``False`` 로 저장

   2.  ``comment``

       -   영화에 대한 생각을 자유롭게 남길 수 있다.

   3.  ``keyword1`` ``keyword2``

       -   주어진 키워드 목록에서 해당 영화에 어울린다고 생각하는 두가지 키워드를 사용자가 선택한다.

5. 위에서 사용자가 rating 을 등록하게 되면 다음과 같은 일들이 진행된다.

   -   평가 등록
       -   사용자가 작성한 평가가 데이터베이스에 저장된다.

   -   사용자가 선호하는 키워드 갱신
       1.  지금까지 사용자가 작성한 모든 평가를 추출한다.
       2.   등록된 키워드의 항목별 갯수를 계산한다.
       3.  가장 많이 선택된 키워드와 두번째로 많이 선택된 키워드를 사용자 가 선호하는 키워드로 저장하게 된다.
   -   영화에 가장 어울리는 키워드 갱신
       1.  해당 영화에 지금까지 등록된 모든 평가를 추출한다.
       2.  가장 많이 등록된 키워드 3개를 순서대로 영화 대표 키워드로 저장한다.

6. 사용자가 영화를 추천받고자 할 때 실행될 추천 알고리즘은 사용자 정보를 바탕으로 작성되었다.

   1. 사용자가 이미 관람한 영화는 우선 추천해 줄 목록에서 배제한다.  

   2. 사용자의 메인 키워드와 영화의 메인 키워드가 같고, 사용자의 서브 키워드와 메인 키워드가 같은 영화를 모은다. 산출된 영화의 갯수가 5개 이상이면 이 가운데 5개를 랜덤으로 뽑아서 내보내게 된다.
   3. 2에서 산출된 영화의 갯수가 5개 미만이면, 사용자의 서브 키워드가 영화의 메인 키워드와 같고, 사용자의 메인 키워드가 영화의 서브 키워드가 같은 영화를 1의 결과에 더해준다.

   4. 3의 결과가 5개 미만이면, 사용자의 메인 키워드가 영화의 메인 또는 서브 키워드와 같은 영화를 2의 결과에 더해준다.

   5. 4의 결과가 5개 미만이면, 사용자의 서브 키워드가 영화의 메인 또는 서브 키워드와 같은 영화를 3의 결과에 더해주다.

   6. 5의 결과가 5개 미만이면, 사용자가 가장 선호하는 장르가 영화의 메인 장르와 같고, 사용자가 두번째로 선호하는 장르가 영화의 서브 장르와 같은 영화를 4의 결과에 더해준다.

   7. 6의 결과가 5개 미만이면, 사용자가 두번째로 선호하는 장르가 영화의 메인 장르과 같고, 사용자가 첫번째로 선호하는 장르가 영화의 서브 장르와 같은 영화를 5의 결과에 더해준다.

   8. 7의 결과가 5개 미만이면, 사용자가 첫번째로 선호하는 장르가 영화의 두 장르 중 하나에 포함 되는 영화를 6의 결과에 더해준다.

   9. 8의 결과가 5개 미만이면, 사용자가 두변째로 선호하는 장르가 영화의 두 장르 중 하나에 포함 되는 영화를 7의 결과에 더해준다.

   10. 3~9 과정에서 산출된 영화의 갯수가 5개 이상이면, 해당 결과의 앞에서 5개 결과만 내보낸다.
   11. 만약 키워드 개수가 동점일 경우는 평점이 작성된 순서에 의해 먼저 등록된 키워드가 먼저 나온다.

